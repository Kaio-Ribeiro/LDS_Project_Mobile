{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\pedro_henrique\\\\www\\\\LDS_Project_Mobile\\\\src\\\\pages\\\\Create_Clients\\\\index.js\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useState, useEffect } from 'react';\nimport { Feather } from '@expo/vector-icons';\nimport { useNavigation } from '@react-navigation/native';\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport View from \"react-native-web/dist/exports/View\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport KeyboardAvoidingView from \"react-native-web/dist/exports/KeyboardAvoidingView\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport AsyncStorage from '@react-native-community/async-storage';\nimport { Picker } from '@react-native-picker/picker';\nimport logoImg from \"../../assets/logo.png\";\nimport api from \"../../services/api\";\nimport styles from \"./styles\";\n\nvar _Dimensions$get = Dimensions.get('window'),\n    height = _Dimensions$get.height;\n\nexport default function Create_Clients() {\n  var _this = this;\n\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      email = _useState2[0],\n      setEmail = _useState2[1];\n\n  var _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      name = _useState4[0],\n      setName = _useState4[1];\n\n  var _useState5 = useState(''),\n      _useState6 = _slicedToArray(_useState5, 2),\n      CPF = _useState6[0],\n      setCPF = _useState6[1];\n\n  var _useState7 = useState(''),\n      _useState8 = _slicedToArray(_useState7, 2),\n      RG = _useState8[0],\n      setRG = _useState8[1];\n\n  var _useState9 = useState(''),\n      _useState10 = _slicedToArray(_useState9, 2),\n      street = _useState10[0],\n      setStreet = _useState10[1];\n\n  var _useState11 = useState(''),\n      _useState12 = _slicedToArray(_useState11, 2),\n      district = _useState12[0],\n      setDistrict = _useState12[1];\n\n  var _useState13 = useState(''),\n      _useState14 = _slicedToArray(_useState13, 2),\n      number = _useState14[0],\n      setNumber = _useState14[1];\n\n  var _useState15 = useState(''),\n      _useState16 = _slicedToArray(_useState15, 2),\n      uf = _useState16[0],\n      setUf = _useState16[1];\n\n  var _useState17 = useState(''),\n      _useState18 = _slicedToArray(_useState17, 2),\n      city = _useState18[0],\n      setCity = _useState18[1];\n\n  var _useState19 = useState(''),\n      _useState20 = _slicedToArray(_useState19, 2),\n      box_number = _useState20[0],\n      setBox_number = _useState20[1];\n\n  var _useState21 = useState(''),\n      _useState22 = _slicedToArray(_useState21, 2),\n      internet_plan_id = _useState22[0],\n      setInternetPlanId = _useState22[1];\n\n  var _useState23 = useState([]),\n      _useState24 = _slicedToArray(_useState23, 2),\n      internetPlans = _useState24[0],\n      setInternetPlans = _useState24[1];\n\n  var navigation = useNavigation();\n  useEffect(function () {\n    api.get('internet-plan', {}).then(function (response) {\n      setInternetPlans(response.data);\n    });\n  }, []);\n\n  function navigateBack() {\n    navigation.goBack();\n  }\n\n  state = {\n    screenHeight: 0\n  };\n\n  onContentSizeChange = function onContentSizeChange(contentWidth, contentHeigt) {\n    _this.setChange({\n      screenHeight: contentHeigt\n    });\n  };\n\n  var scrollEnabled = this.state.screenHeight > height;\n\n  function handleCreateClients() {\n    var data, salesmanID, response, dataEmail;\n    return _regeneratorRuntime.async(function handleCreateClients$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            data = {\n              name: name,\n              email: email,\n              RG: RG,\n              CPF: CPF,\n              city: city,\n              uf: uf,\n              district: district,\n              street: street,\n              number: number,\n              box_number: box_number,\n              internet_plan_id: internet_plan_id\n            };\n            _context.prev = 1;\n            _context.next = 4;\n            return _regeneratorRuntime.awrap(AsyncStorage.getItem('userID'));\n\n          case 4:\n            salesmanID = _context.sent;\n            _context.next = 7;\n            return _regeneratorRuntime.awrap(api.post('/client', data, {\n              headers: {\n                Authorization: salesmanID\n              }\n            }));\n\n          case 7:\n            response = _context.sent;\n            dataEmail = {\n              password: response.data.password,\n              email: email\n            };\n            _context.next = 11;\n            return _regeneratorRuntime.awrap(api.post('/send-email', dataEmail));\n\n          case 11:\n            alert(\"Cliente cadastrado com sucesso.\");\n            navigation.navigate('Home_Salesman');\n            _context.next = 18;\n            break;\n\n          case 15:\n            _context.prev = 15;\n            _context.t0 = _context[\"catch\"](1);\n            alert(\"Falha no cadastro, tente novamente.\");\n\n          case 18:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[1, 15]], Promise);\n  }\n\n  return React.createElement(KeyboardAvoidingView, {\n    style: {\n      flex: 1\n    },\n    behavior: Platform.OS == \"android\" ? \"height\" : null,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 9\n    }\n  }, React.createElement(ScrollView, {\n    showsVerticalScrollIndicator: false,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }\n  }, React.createElement(View, {\n    style: styles.container,\n    onContentSizeChange: this.onContentSizeChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 17\n    }\n  }, React.createElement(View, {\n    style: styles.header,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 21\n    }\n  }, React.createElement(Image, {\n    source: logoImg,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 25\n    }\n  }), React.createElement(TouchableOpacity, {\n    onPress: navigateBack,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 25\n    }\n  }, React.createElement(Feather, {\n    name: \"arrow-left\",\n    size: 28,\n    color: \"#E82041\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 29\n    }\n  }))), React.createElement(Text, {\n    style: styles.title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 21\n    }\n  }, \"Cadastro de Cliente\"), React.createElement(Text, {\n    style: styles.description,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 21\n    }\n  }, \"Fa\\xE7a o cadastro de um usu\\xE1rio cliente.\"), React.createElement(View, {\n    style: styles.form,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 21\n    }\n  }, React.createElement(Text, {\n    style: styles.formProperty,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 25\n    }\n  }, \"INFO:\"), React.createElement(TextInput, {\n    style: styles.input,\n    placeholder: \"Nome\",\n    onChangeText: function onChangeText(name) {\n      return setName(name);\n    },\n    defaultValue: name,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 25\n    }\n  }), React.createElement(TextInput, {\n    style: styles.input,\n    placeholder: \"E-mail\",\n    onChangeText: function onChangeText(email) {\n      return setEmail(email);\n    },\n    defaultValue: email,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 25\n    }\n  }), React.createElement(TextInput, {\n    style: styles.input,\n    placeholder: \"CPF\",\n    keyboardType: \"numeric\",\n    onChangeText: function onChangeText(CPF) {\n      return setCPF(CPF);\n    },\n    defaultValue: CPF,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 25\n    }\n  }), React.createElement(TextInput, {\n    style: styles.input,\n    placeholder: \"RG\",\n    keyboardType: \"numeric\",\n    onChangeText: function onChangeText(RG) {\n      return setRG(RG);\n    },\n    defaultValue: RG,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 25\n    }\n  }), React.createElement(TextInput, {\n    style: styles.input,\n    placeholder: \"N\\xB0 da Caixa\",\n    keyboardType: \"numeric\",\n    onChangeText: function onChangeText(box_number) {\n      return setBox_number(box_number);\n    },\n    defaultValue: box_number,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 25\n    }\n  }), React.createElement(View, {\n    style: styles.inputPicker,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 25\n    }\n  }, React.createElement(Picker, {\n    onValueChange: function onValueChange(internet_plan_id) {\n      return setInternetPlanId(internet_plan_id);\n    },\n    defaultValue: internet_plan_id,\n    style: styles.picker,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 29\n    }\n  }, React.createElement(Picker.Item, {\n    label: \"Escolha um plano\",\n    value: \"none\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 33\n    }\n  }), internetPlans.map(function (internetPlan) {\n    return React.createElement(Picker.Item, {\n      key: internetPlan.id,\n      label: internetPlan.speed,\n      value: internetPlan.id,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 37\n      }\n    });\n  }))), React.createElement(Text, {\n    style: styles.formProperty,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 25\n    }\n  }, \"LOCALIZA\\xC7\\xC3O:\"), React.createElement(TextInput, {\n    style: styles.input,\n    placeholder: \"Rua\",\n    onChangeText: function onChangeText(street) {\n      return setStreet(street);\n    },\n    defaultValue: street,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 25\n    }\n  }), React.createElement(TextInput, {\n    style: styles.input,\n    placeholder: \"N\\xB0 da casa\",\n    keyboardType: \"numeric\",\n    onChangeText: function onChangeText(number) {\n      return setNumber(number);\n    },\n    defaultValue: number,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 25\n    }\n  }), React.createElement(TextInput, {\n    style: styles.input,\n    placeholder: \"Bairro\",\n    onChangeText: function onChangeText(district) {\n      return setDistrict(district);\n    },\n    defaultValue: district,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 25\n    }\n  }), React.createElement(View, {\n    style: styles.inputGroup,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 25\n    }\n  }, React.createElement(TextInput, {\n    style: styles.inputCity,\n    placeholder: \"Cidade\",\n    onChangeText: function onChangeText(city) {\n      return setCity(city);\n    },\n    defaultValue: city,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 29\n    }\n  }), React.createElement(TextInput, {\n    style: styles.inputUF,\n    placeholder: \"UF\",\n    onChangeText: function onChangeText(uf) {\n      return setUf(uf);\n    },\n    defaultValue: uf,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 29\n    }\n  }))), React.createElement(TouchableOpacity, {\n    style: styles.action,\n    onPress: handleCreateClients,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 21\n    }\n  }, React.createElement(Text, {\n    style: styles.actionText,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 25\n    }\n  }, \"Cadastrar\")))));\n}","map":{"version":3,"sources":["C:/Users/pedro_henrique/www/LDS_Project_Mobile/src/pages/Create_Clients/index.js"],"names":["React","useState","useEffect","Feather","useNavigation","AsyncStorage","Picker","logoImg","api","styles","Dimensions","get","height","Create_Clients","email","setEmail","name","setName","CPF","setCPF","RG","setRG","street","setStreet","district","setDistrict","number","setNumber","uf","setUf","city","setCity","box_number","setBox_number","internet_plan_id","setInternetPlanId","internetPlans","setInternetPlans","navigation","then","response","data","navigateBack","goBack","state","screenHeight","onContentSizeChange","contentWidth","contentHeigt","setChange","scrollEnabled","handleCreateClients","getItem","salesmanID","post","headers","Authorization","dataEmail","password","alert","navigate","flex","Platform","OS","container","header","title","description","form","formProperty","input","inputPicker","picker","map","internetPlan","id","speed","inputGroup","inputCity","inputUF","action","actionText"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react'\r\nimport { Feather } from '@expo/vector-icons'\r\nimport { useNavigation } from '@react-navigation/native'\r\nimport { Dimensions, View, ScrollView, KeyboardAvoidingView, Image, Text, TextInput, TouchableOpacity, Platform } from 'react-native'\r\nimport AsyncStorage from  '@react-native-community/async-storage';\r\nimport {Picker} from '@react-native-picker/picker'\r\nimport logoImg from '../../assets/logo.png'\r\nimport api from '../../services/api'\r\nimport styles from './styles'\r\n\r\nconst { height } = Dimensions.get('window')\r\n\r\nexport default function Create_Clients() {\r\n    const [email, setEmail] = useState('');\r\n    const [name, setName] = useState('');\r\n    const [CPF, setCPF] = useState('');\r\n    const [RG, setRG] = useState('');\r\n    const [street, setStreet] = useState('');\r\n    const [district, setDistrict] = useState('');\r\n    const [number, setNumber] = useState('');\r\n    const [uf, setUf] = useState('');\r\n    const [city, setCity] = useState('');\r\n    const [box_number, setBox_number] = useState('');\r\n    const [internet_plan_id,setInternetPlanId] = useState('')\r\n    const [internetPlans,setInternetPlans] = useState([])\r\n\r\n    const navigation = useNavigation() \r\n\r\n    useEffect(() => {\r\n        api.get('internet-plan',{\r\n    \r\n        }).then(response => {\r\n          setInternetPlans(response.data)\r\n        })\r\n      }, [])\r\n\r\n    function navigateBack() {\r\n        navigation.goBack()\r\n    }\r\n\r\n    state = {\r\n        screenHeight: 0\r\n    }\r\n\r\n    onContentSizeChange = (contentWidth, contentHeigt) => {\r\n        this.setChange({ screenHeight: contentHeigt })\r\n    }\r\n\r\n    const scrollEnabled = this.state.screenHeight > height\r\n\r\n    async function handleCreateClients() {\r\n        const data = {name, email, RG, CPF, city, uf, district, street, number, box_number, internet_plan_id}\r\n\r\n\r\n        try {\r\n            const salesmanID = await AsyncStorage.getItem('userID');\r\n\r\n            const response = await api.post('/client', data, {\r\n                headers: {\r\n                    Authorization: salesmanID,\r\n                }\r\n            })\r\n\r\n            const dataEmail = {password: response.data.password, email}\r\n            await api.post('/send-email', dataEmail)\r\n\r\n            alert(\"Cliente cadastrado com sucesso.\")\r\n            \r\n            navigation.navigate('Home_Salesman')\r\n\r\n        } catch (err) {\r\n            alert(\"Falha no cadastro, tente novamente.\")\r\n        }\r\n    }\r\n\r\n    return (\r\n        <KeyboardAvoidingView\r\n            style={{ flex: 1 }}\r\n            behavior={Platform.OS == \"android\" ? \"height\" : null}\r\n        >\r\n            <ScrollView\r\n                showsVerticalScrollIndicator={false}\r\n            >\r\n\r\n                <View style={styles.container}\r\n                    onContentSizeChange={this.onContentSizeChange}\r\n                >\r\n                    <View style={styles.header}>\r\n                        <Image source={logoImg}/>\r\n\r\n                        <TouchableOpacity onPress={navigateBack}>\r\n                            <Feather name=\"arrow-left\" size={28} color=\"#E82041\"/>\r\n                        </TouchableOpacity>\r\n                    </View>\r\n\r\n                    <Text style={styles.title}>Cadastro de Cliente</Text>\r\n                    <Text style={styles.description}>\r\n                        Faça o cadastro de um usuário cliente.\r\n                    </Text>\r\n\r\n                    <View style={styles.form}>\r\n\r\n                        <Text style={styles.formProperty}>INFO:</Text>\r\n\r\n                        <TextInput \r\n                            style={styles.input}\r\n                            placeholder=\"Nome\"\r\n                            onChangeText={name => setName(name)}\r\n                            defaultValue={name}\r\n                        />\r\n\r\n                        <TextInput \r\n                            style={styles.input}\r\n                            placeholder=\"E-mail\"\r\n                            onChangeText={email => setEmail(email)}\r\n                            defaultValue={email}\r\n                        />\r\n                                                \r\n                        <TextInput \r\n                            style={styles.input}\r\n                            placeholder=\"CPF\"\r\n                            keyboardType=\"numeric\"\r\n                            onChangeText={CPF => setCPF(CPF)}\r\n                            defaultValue={CPF}\r\n                        />\r\n\r\n                        <TextInput \r\n                            style={styles.input}\r\n                            placeholder=\"RG\"\r\n                            keyboardType=\"numeric\"\r\n                            onChangeText={RG => setRG(RG)}\r\n                            defaultValue={RG}\r\n                        />\r\n\r\n                        <TextInput \r\n                            style={styles.input}\r\n                            placeholder=\"N° da Caixa\"\r\n                            keyboardType=\"numeric\"\r\n                            onChangeText={box_number => setBox_number(box_number)}\r\n                            defaultValue={box_number}\r\n                        />\r\n\r\n                        <View style={styles.inputPicker}>\r\n                            <Picker\r\n                                onValueChange={internet_plan_id => setInternetPlanId(internet_plan_id)}\r\n                                defaultValue={internet_plan_id}\r\n                                style={styles.picker}\r\n                            >\r\n                                <Picker.Item label=\"Escolha um plano\" value=\"none\" />\r\n                                {internetPlans.map(internetPlan => (\r\n                                    <Picker.Item key={internetPlan.id} label={internetPlan.speed} value={internetPlan.id} />\r\n                                ))}\r\n                            </Picker> \r\n                        </View>\r\n\r\n                        <Text style={styles.formProperty}>LOCALIZAÇÃO:</Text>\r\n\r\n                        <TextInput \r\n                            style={styles.input}\r\n                            placeholder=\"Rua\"\r\n                            onChangeText={street => setStreet(street)}\r\n                            defaultValue={street}\r\n                        />\r\n\r\n                        <TextInput \r\n                            style={styles.input}\r\n                            placeholder=\"N° da casa\"\r\n                            keyboardType=\"numeric\"\r\n                            onChangeText={number => setNumber(number)}\r\n                            defaultValue={number}\r\n                        />\r\n\r\n                        <TextInput \r\n                            style={styles.input}\r\n                            placeholder=\"Bairro\"\r\n                            onChangeText={district => setDistrict(district)}\r\n                            defaultValue={district}\r\n                        />\r\n\r\n                        <View style={styles.inputGroup}>\r\n                            <TextInput \r\n                                style={styles.inputCity}\r\n                                placeholder=\"Cidade\"\r\n                                onChangeText={city => setCity(city)}\r\n                                defaultValue={city}\r\n                            />\r\n\r\n                            <TextInput \r\n                                style={styles.inputUF}\r\n                                placeholder=\"UF\"\r\n                                onChangeText={uf => setUf(uf)}\r\n                                defaultValue={uf}\r\n                            />\r\n                            \r\n                        </View>\r\n\r\n                    </View>\r\n\r\n                    <TouchableOpacity \r\n                        style={styles.action}\r\n                        onPress={handleCreateClients}\r\n                    >\r\n                        <Text style={styles.actionText}>Cadastrar</Text>\r\n                    </TouchableOpacity>\r\n\r\n                </View>\r\n\r\n            </ScrollView>\r\n\r\n        </KeyboardAvoidingView>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}