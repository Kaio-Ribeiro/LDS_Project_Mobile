{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\pedro_henrique\\\\www\\\\LDS_Project_Mobile\\\\src\\\\pages\\\\Login\\\\index.js\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useState } from 'react';\nimport { Picker } from '@react-native-picker/picker';\nimport { useNavigation } from '@react-navigation/native';\nimport View from \"react-native-web/dist/exports/View\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport AsyncStorage from '@react-native-community/async-storage';\nimport logoImg from \"../../assets/logo.png\";\nimport api from \"../../services/api\";\nimport styles from \"./styles\";\nexport default function Login() {\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      email = _useState2[0],\n      setEmail = _useState2[1];\n\n  var _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      password = _useState4[0],\n      setPassword = _useState4[1];\n\n  var _useState5 = useState(''),\n      _useState6 = _slicedToArray(_useState5, 2),\n      picker = _useState6[0],\n      setPicker = _useState6[1];\n\n  var navigation = useNavigation();\n\n  function handleLogin() {\n    var data, response;\n    return _regeneratorRuntime.async(function handleLogin$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            data = {\n              email: email,\n              password: password\n            };\n            _context.prev = 1;\n            _context.next = 4;\n            return _regeneratorRuntime.awrap(api.post(picker, data));\n\n          case 4:\n            response = _context.sent;\n            console.log(response.data);\n            _context.next = 8;\n            return _regeneratorRuntime.awrap(AsyncStorage.setItem('userID', JSON.stringify(response.data)));\n\n          case 8:\n            if (picker === '/sessionAdmin') {\n              navigation.navigate('Home_Admin');\n            } else if (picker === '/sessionSalesman') {\n              navigation.navigate('Home_Salesman');\n            }\n\n            _context.next = 14;\n            break;\n\n          case 11:\n            _context.prev = 11;\n            _context.t0 = _context[\"catch\"](1);\n            alert(\"'Falha no login, tente novamente.\");\n\n          case 14:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[1, 11]], Promise);\n  }\n\n  return React.createElement(View, {\n    style: styles.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 9\n    }\n  }, React.createElement(View, {\n    style: styles.header,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }\n  }, React.createElement(Image, {\n    source: logoImg,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 17\n    }\n  })), React.createElement(Text, {\n    style: styles.title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }\n  }, \"Fa\\xE7a seu Login\"), React.createElement(Text, {\n    style: styles.inputTitle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }\n  }, \"E-mail:\"), React.createElement(TextInput, {\n    style: styles.input,\n    placeholder: \"E-mail\",\n    onChangeText: function onChangeText(email) {\n      return setEmail(email);\n    },\n    defaultValue: email,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }\n  }), React.createElement(Text, {\n    style: styles.inputTitle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }\n  }, \"Senha:\"), React.createElement(TextInput, {\n    style: styles.input,\n    placeholder: \"Senha\",\n    secureTextEntry: true,\n    onChangeText: function onChangeText(password) {\n      return setPassword(password);\n    },\n    defaultValue: password,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }\n  }), React.createElement(Text, {\n    style: styles.inputTitle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }\n  }, \"Logar como:\"), React.createElement(View, {\n    style: styles.pickerView,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }\n  }, React.createElement(Picker, {\n    style: styles.picker,\n    onValueChange: function onValueChange(picker) {\n      return setPicker(picker);\n    },\n    defaultValue: picker,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 17\n    }\n  }, React.createElement(Picker.Item, {\n    label: \"Selecione um usu\\xE1rio\",\n    value: \"none\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 21\n    }\n  }), React.createElement(Picker.Item, {\n    label: \"Administrador\",\n    value: \"/sessionAdmin\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 21\n    }\n  }), React.createElement(Picker.Item, {\n    label: \"Vendedor\",\n    value: \"/sessionSalesman\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 21\n    }\n  }), React.createElement(Picker.Item, {\n    label: \"Cliente\",\n    value: \"client\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 21\n    }\n  }))), React.createElement(TouchableOpacity, {\n    style: styles.action,\n    onPress: handleLogin,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 13\n    }\n  }, React.createElement(Text, {\n    style: styles.actionText,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 17\n    }\n  }, \"Entrar\")));\n}","map":{"version":3,"sources":["C:/Users/pedro_henrique/www/LDS_Project_Mobile/src/pages/Login/index.js"],"names":["React","useState","Picker","useNavigation","AsyncStorage","logoImg","api","styles","Login","email","setEmail","password","setPassword","picker","setPicker","navigation","handleLogin","data","post","response","console","log","setItem","JSON","stringify","navigate","alert","container","header","title","inputTitle","input","pickerView","action","actionText"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\r\nimport {Picker} from '@react-native-picker/picker'\r\nimport { useNavigation } from '@react-navigation/native'\r\nimport { View, Image, Text, TextInput, TouchableOpacity } from 'react-native'\r\nimport AsyncStorage from  '@react-native-community/async-storage';\r\n\r\n\r\nimport logoImg from '../../assets/logo.png'\r\nimport api from '../../services/api'\r\nimport styles from './styles'\r\n\r\nexport default function Login() {\r\n    const [email, setEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [picker, setPicker] = useState('');\r\n\r\n    const navigation = useNavigation()\r\n\r\n    async function handleLogin() {\r\n        const data = {email, password}\r\n\r\n\r\n        try {\r\n            const response = await api.post(picker, data)\r\n            console.log(response.data)\r\n\r\n            await AsyncStorage.setItem('userID', JSON.stringify(response.data));\r\n\r\n            if(picker === '/sessionAdmin') {\r\n                navigation.navigate('Home_Admin')\r\n\r\n            }else if(picker === '/sessionSalesman') {\r\n                navigation.navigate('Home_Salesman')\r\n            }\r\n            \r\n            \r\n\r\n        } catch (err) {\r\n            alert(\"'Falha no login, tente novamente.\")\r\n        }\r\n    }\r\n\r\n    return (\r\n        <View style={styles.container}>\r\n            <View style={styles.header}>\r\n                <Image source={logoImg}/>\r\n            </View>\r\n\r\n            <Text style={styles.title}>Faça seu Login</Text>\r\n\r\n            <Text style={styles.inputTitle}>E-mail:</Text>\r\n\r\n            <TextInput \r\n                style={styles.input}\r\n                placeholder=\"E-mail\"\r\n                onChangeText={email => setEmail(email)}\r\n                defaultValue={email}\r\n            />\r\n\r\n            <Text style={styles.inputTitle}>Senha:</Text>\r\n\r\n            <TextInput \r\n                style={styles.input}\r\n                placeholder=\"Senha\"\r\n                secureTextEntry={true}\r\n                onChangeText={password => setPassword(password)}\r\n                defaultValue={password}\r\n            />\r\n\r\n            <Text style={styles.inputTitle}>Logar como:</Text>\r\n\r\n            <View style={styles.pickerView}>\r\n                <Picker\r\n                    style={styles.picker}\r\n                    onValueChange={picker => setPicker(picker)}\r\n                    defaultValue={picker}\r\n                >\r\n                    <Picker.Item label=\"Selecione um usuário\" value=\"none\" />\r\n                    <Picker.Item label=\"Administrador\" value=\"/sessionAdmin\" />\r\n                    <Picker.Item label=\"Vendedor\" value=\"/sessionSalesman\" />\r\n                    <Picker.Item label=\"Cliente\" value=\"client\" />\r\n                </Picker> \r\n            </View>\r\n\r\n            <TouchableOpacity \r\n                style={styles.action}\r\n                onPress={handleLogin}\r\n            >\r\n                <Text style={styles.actionText}>Entrar</Text>\r\n            </TouchableOpacity>\r\n\r\n        </View>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}