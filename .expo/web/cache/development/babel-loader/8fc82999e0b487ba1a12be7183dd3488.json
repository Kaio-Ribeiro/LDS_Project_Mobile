{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\pedro_henrique\\\\www\\\\LDS_Project_Mobile\\\\src\\\\pages\\\\Create_Salesman\\\\index.js\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useState } from 'react';\nimport { Feather } from '@expo/vector-icons';\nimport { useNavigation } from '@react-navigation/native';\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport View from \"react-native-web/dist/exports/View\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport KeyboardAvoidingView from \"react-native-web/dist/exports/KeyboardAvoidingView\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport AsyncStorage from '@react-native-community/async-storage';\nimport logoImg from \"../../assets/logo.png\";\nimport api from \"../../services/api\";\nimport styles from \"./styles\";\n\nvar _Dimensions$get = Dimensions.get('window'),\n    height = _Dimensions$get.height;\n\nexport default function Create_Salesman() {\n  var _this = this;\n\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      email = _useState2[0],\n      setEmail = _useState2[1];\n\n  var _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      name = _useState4[0],\n      setName = _useState4[1];\n\n  var _useState5 = useState(''),\n      _useState6 = _slicedToArray(_useState5, 2),\n      CPF = _useState6[0],\n      setCPF = _useState6[1];\n\n  var _useState7 = useState(''),\n      _useState8 = _slicedToArray(_useState7, 2),\n      RG = _useState8[0],\n      setRG = _useState8[1];\n\n  var _useState9 = useState(''),\n      _useState10 = _slicedToArray(_useState9, 2),\n      street = _useState10[0],\n      setStreet = _useState10[1];\n\n  var _useState11 = useState(''),\n      _useState12 = _slicedToArray(_useState11, 2),\n      district = _useState12[0],\n      setDistrict = _useState12[1];\n\n  var _useState13 = useState(''),\n      _useState14 = _slicedToArray(_useState13, 2),\n      number = _useState14[0],\n      setNumber = _useState14[1];\n\n  var _useState15 = useState(''),\n      _useState16 = _slicedToArray(_useState15, 2),\n      uf = _useState16[0],\n      setUf = _useState16[1];\n\n  var _useState17 = useState(''),\n      _useState18 = _slicedToArray(_useState17, 2),\n      city = _useState18[0],\n      setCity = _useState18[1];\n\n  var _useState19 = useState(''),\n      _useState20 = _slicedToArray(_useState19, 2),\n      sales_goal = _useState20[0],\n      setSales_goal = _useState20[1];\n\n  var navigation = useNavigation();\n\n  function navigateBack() {\n    navigation.goBack();\n  }\n\n  state = {\n    screenHeight: 0\n  };\n\n  onContentSizeChange = function onContentSizeChange(contentWidth, contentHeigt) {\n    _this.setChange({\n      screenHeight: contentHeigt\n    });\n  };\n\n  var scrollEnabled = this.state.screenHeight > height;\n\n  function handleCreateSalesman() {\n    var data, adminID, response, dataEmail;\n    return _regeneratorRuntime.async(function handleCreateSalesman$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            data = {\n              name: name,\n              email: email,\n              RG: RG,\n              CPF: CPF,\n              sales_goal: sales_goal,\n              city: city,\n              uf: uf,\n              district: district,\n              street: street,\n              number: number\n            };\n            _context.prev = 1;\n            _context.next = 4;\n            return _regeneratorRuntime.awrap(AsyncStorage.getItem('userID'));\n\n          case 4:\n            adminID = _context.sent;\n            _context.next = 7;\n            return _regeneratorRuntime.awrap(api.post('/salesman', data, {\n              headers: {\n                Authorization: adminID\n              }\n            }));\n\n          case 7:\n            response = _context.sent;\n            dataEmail = {\n              password: response.data.password,\n              email: email\n            };\n            _context.next = 11;\n            return _regeneratorRuntime.awrap(api.post('/send-email', dataEmail));\n\n          case 11:\n            alert(\"Vendedor cadastrado com sucesso.\");\n            navigation.navigate('Salesman_Listing');\n            _context.next = 18;\n            break;\n\n          case 15:\n            _context.prev = 15;\n            _context.t0 = _context[\"catch\"](1);\n            alert(\"Falha no cadastro, tente novamente.\");\n\n          case 18:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[1, 15]], Promise);\n  }\n\n  return React.createElement(KeyboardAvoidingView, {\n    style: {\n      flex: 1\n    },\n    behavior: Platform.OS == \"android\" ? \"height\" : null,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }\n  }, React.createElement(ScrollView, {\n    showsVerticalScrollIndicator: false,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }\n  }, React.createElement(View, {\n    style: styles.container,\n    onContentSizeChange: this.onContentSizeChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 17\n    }\n  }, React.createElement(View, {\n    style: styles.header,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 21\n    }\n  }, React.createElement(Image, {\n    source: logoImg,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 25\n    }\n  }), React.createElement(TouchableOpacity, {\n    onPress: navigateBack,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 25\n    }\n  }, React.createElement(Feather, {\n    name: \"arrow-left\",\n    size: 28,\n    color: \"#E82041\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 29\n    }\n  }))), React.createElement(Text, {\n    style: styles.title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 21\n    }\n  }, \"Cadastro de Vendedor\"), React.createElement(Text, {\n    style: styles.description,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 21\n    }\n  }, \"Fa\\xE7a o cadastro de um usu\\xE1rio vendedor.\"), React.createElement(View, {\n    style: styles.form,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 21\n    }\n  }, React.createElement(Text, {\n    style: styles.formProperty,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 25\n    }\n  }, \"INFO:\"), React.createElement(TextInput, {\n    style: styles.input,\n    placeholder: \"Nome\",\n    onChangeText: function onChangeText(name) {\n      return setName(name);\n    },\n    defaultValue: name,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 25\n    }\n  }), React.createElement(TextInput, {\n    style: styles.input,\n    placeholder: \"E-mail\",\n    onChangeText: function onChangeText(email) {\n      return setEmail(email);\n    },\n    defaultValue: email,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 25\n    }\n  }), React.createElement(TextInput, {\n    style: styles.input,\n    placeholder: \"CPF\",\n    keyboardType: \"numeric\",\n    onChangeText: function onChangeText(CPF) {\n      return setCPF(CPF);\n    },\n    defaultValue: CPF,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 25\n    }\n  }), React.createElement(TextInput, {\n    style: styles.input,\n    placeholder: \"RG\",\n    keyboardType: \"numeric\",\n    onChangeText: function onChangeText(RG) {\n      return setRG(RG);\n    },\n    defaultValue: RG,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 25\n    }\n  }), React.createElement(TextInput, {\n    style: styles.input,\n    placeholder: \"Meta de Vendas\",\n    keyboardType: \"numeric\",\n    onChangeText: function onChangeText(sales_goal) {\n      return setSales_goal(sales_goal);\n    },\n    defaultValue: sales_goal,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 25\n    }\n  }), React.createElement(Text, {\n    style: styles.formProperty,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 25\n    }\n  }, \"LOCALIZA\\xC7\\xC3O:\"), React.createElement(TextInput, {\n    style: styles.input,\n    placeholder: \"Rua\",\n    onChangeText: function onChangeText(street) {\n      return setStreet(street);\n    },\n    defaultValue: street,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 25\n    }\n  }), React.createElement(TextInput, {\n    style: styles.input,\n    placeholder: \"N\\xB0 da casa\",\n    keyboardType: \"numeric\",\n    onChangeText: function onChangeText(number) {\n      return setNumber(number);\n    },\n    defaultValue: number,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 25\n    }\n  }), React.createElement(TextInput, {\n    style: styles.input,\n    placeholder: \"Bairro\",\n    onChangeText: function onChangeText(district) {\n      return setDistrict(district);\n    },\n    defaultValue: district,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 25\n    }\n  }), React.createElement(View, {\n    style: styles.inputGroup,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 25\n    }\n  }, React.createElement(TextInput, {\n    style: styles.inputCity,\n    placeholder: \"Cidade\",\n    onChangeText: function onChangeText(city) {\n      return setCity(city);\n    },\n    defaultValue: city,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 29\n    }\n  }), React.createElement(TextInput, {\n    style: styles.inputUF,\n    placeholder: \"UF\",\n    onChangeText: function onChangeText(uf) {\n      return setUf(uf);\n    },\n    defaultValue: uf,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 29\n    }\n  }))), React.createElement(TouchableOpacity, {\n    style: styles.action,\n    onPress: handleCreateSalesman,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 21\n    }\n  }, React.createElement(Text, {\n    style: styles.actionText,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 25\n    }\n  }, \"Cadastrar\")))));\n}","map":{"version":3,"sources":["C:/Users/pedro_henrique/www/LDS_Project_Mobile/src/pages/Create_Salesman/index.js"],"names":["React","useState","Feather","useNavigation","AsyncStorage","logoImg","api","styles","Dimensions","get","height","Create_Salesman","email","setEmail","name","setName","CPF","setCPF","RG","setRG","street","setStreet","district","setDistrict","number","setNumber","uf","setUf","city","setCity","sales_goal","setSales_goal","navigation","navigateBack","goBack","state","screenHeight","onContentSizeChange","contentWidth","contentHeigt","setChange","scrollEnabled","handleCreateSalesman","data","getItem","adminID","post","headers","Authorization","response","dataEmail","password","alert","navigate","flex","Platform","OS","container","header","title","description","form","formProperty","input","inputGroup","inputCity","inputUF","action","actionText"],"mappings":";;;AAAA,OAAOA,KAAP,IAAeC,QAAf,QAA8B,OAA9B;AACA,SAASC,OAAT,QAAwB,oBAAxB;AACA,SAASC,aAAT,QAA8B,0BAA9B;;;;;;;;;;AAEA,OAAOC,YAAP,MAA0B,uCAA1B;AACA,OAAOC,OAAP;AACA,OAAOC,GAAP;AACA,OAAOC,MAAP;;sBAEmBC,UAAU,CAACC,GAAX,CAAe,QAAf,C;IAAXC,M,mBAAAA,M;;AAER,eAAe,SAASC,eAAT,GAA2B;AAAA;;AAAA,kBACZV,QAAQ,CAAC,EAAD,CADI;AAAA;AAAA,MAC/BW,KAD+B;AAAA,MACxBC,QADwB;;AAAA,mBAEdZ,QAAQ,CAAC,EAAD,CAFM;AAAA;AAAA,MAE/Ba,IAF+B;AAAA,MAEzBC,OAFyB;;AAAA,mBAGhBd,QAAQ,CAAC,EAAD,CAHQ;AAAA;AAAA,MAG/Be,GAH+B;AAAA,MAG1BC,MAH0B;;AAAA,mBAIlBhB,QAAQ,CAAC,EAAD,CAJU;AAAA;AAAA,MAI/BiB,EAJ+B;AAAA,MAI3BC,KAJ2B;;AAAA,mBAKVlB,QAAQ,CAAC,EAAD,CALE;AAAA;AAAA,MAK/BmB,MAL+B;AAAA,MAKvBC,SALuB;;AAAA,oBAMNpB,QAAQ,CAAC,EAAD,CANF;AAAA;AAAA,MAM/BqB,QAN+B;AAAA,MAMrBC,WANqB;;AAAA,oBAOVtB,QAAQ,CAAC,EAAD,CAPE;AAAA;AAAA,MAO/BuB,MAP+B;AAAA,MAOvBC,SAPuB;;AAAA,oBAQlBxB,QAAQ,CAAC,EAAD,CARU;AAAA;AAAA,MAQ/ByB,EAR+B;AAAA,MAQ3BC,KAR2B;;AAAA,oBASd1B,QAAQ,CAAC,EAAD,CATM;AAAA;AAAA,MAS/B2B,IAT+B;AAAA,MASzBC,OATyB;;AAAA,oBAUF5B,QAAQ,CAAC,EAAD,CAVN;AAAA;AAAA,MAU/B6B,UAV+B;AAAA,MAUnBC,aAVmB;;AAYtC,MAAMC,UAAU,GAAG7B,aAAa,EAAhC;;AAEA,WAAS8B,YAAT,GAAwB;AACpBD,IAAAA,UAAU,CAACE,MAAX;AACH;;AAEDC,EAAAA,KAAK,GAAG;AACJC,IAAAA,YAAY,EAAE;AADV,GAAR;;AAIAC,EAAAA,mBAAmB,GAAG,6BAACC,YAAD,EAAeC,YAAf,EAAgC;AAClD,IAAA,KAAI,CAACC,SAAL,CAAe;AAAEJ,MAAAA,YAAY,EAAEG;AAAhB,KAAf;AACH,GAFD;;AAIA,MAAME,aAAa,GAAG,KAAKN,KAAL,CAAWC,YAAX,GAA0B1B,MAAhD;;AAEA,WAAegC,oBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AACUC,YAAAA,IADV,GACiB;AAAC7B,cAAAA,IAAI,EAAJA,IAAD;AAAOF,cAAAA,KAAK,EAALA,KAAP;AAAcM,cAAAA,EAAE,EAAFA,EAAd;AAAkBF,cAAAA,GAAG,EAAHA,GAAlB;AAAuBc,cAAAA,UAAU,EAAVA,UAAvB;AAAmCF,cAAAA,IAAI,EAAJA,IAAnC;AAAyCF,cAAAA,EAAE,EAAFA,EAAzC;AAA6CJ,cAAAA,QAAQ,EAARA,QAA7C;AAAuDF,cAAAA,MAAM,EAANA,MAAvD;AAA+DI,cAAAA,MAAM,EAANA;AAA/D,aADjB;AAAA;AAAA;AAAA,6CAK8BpB,YAAY,CAACwC,OAAb,CAAqB,QAArB,CAL9B;;AAAA;AAKcC,YAAAA,OALd;AAAA;AAAA,6CAO+BvC,GAAG,CAACwC,IAAJ,CAAS,WAAT,EAAsBH,IAAtB,EAA4B;AAC/CI,cAAAA,OAAO,EAAE;AACLC,gBAAAA,aAAa,EAAEH;AADV;AADsC,aAA5B,CAP/B;;AAAA;AAOcI,YAAAA,QAPd;AAacC,YAAAA,SAbd,GAa0B;AAACC,cAAAA,QAAQ,EAAEF,QAAQ,CAACN,IAAT,CAAcQ,QAAzB;AAAmCvC,cAAAA,KAAK,EAALA;AAAnC,aAb1B;AAAA;AAAA,6CAccN,GAAG,CAACwC,IAAJ,CAAS,aAAT,EAAwBI,SAAxB,CAdd;;AAAA;AAgBQE,YAAAA,KAAK,CAAC,kCAAD,CAAL;AAEApB,YAAAA,UAAU,CAACqB,QAAX,CAAoB,kBAApB;AAlBR;AAAA;;AAAA;AAAA;AAAA;AAqBQD,YAAAA,KAAK,CAAC,qCAAD,CAAL;;AArBR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAyBA,SACI,oBAAC,oBAAD;AACI,IAAA,KAAK,EAAE;AAAEE,MAAAA,IAAI,EAAE;AAAR,KADX;AAEI,IAAA,QAAQ,EAAEC,QAAQ,CAACC,EAAT,IAAe,SAAf,GAA2B,QAA3B,GAAsC,IAFpD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAII,oBAAC,UAAD;AACI,IAAA,4BAA4B,EAAE,KADlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAII,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAEjD,MAAM,CAACkD,SAApB;AACI,IAAA,mBAAmB,EAAE,KAAKpB,mBAD9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAGI,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAE9B,MAAM,CAACmD,MAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,KAAD;AAAO,IAAA,MAAM,EAAErD,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,EAGI,oBAAC,gBAAD;AAAkB,IAAA,OAAO,EAAE4B,YAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,OAAD;AAAS,IAAA,IAAI,EAAC,YAAd;AAA2B,IAAA,IAAI,EAAE,EAAjC;AAAqC,IAAA,KAAK,EAAC,SAA3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CAHJ,CAHJ,EAWI,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAE1B,MAAM,CAACoD,KAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BAXJ,EAYI,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAEpD,MAAM,CAACqD,WAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qDAZJ,EAgBI,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAErD,MAAM,CAACsD,IAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEI,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAEtD,MAAM,CAACuD,YAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAFJ,EAII,oBAAC,SAAD;AACI,IAAA,KAAK,EAAEvD,MAAM,CAACwD,KADlB;AAEI,IAAA,WAAW,EAAC,MAFhB;AAGI,IAAA,YAAY,EAAE,sBAAAjD,IAAI;AAAA,aAAIC,OAAO,CAACD,IAAD,CAAX;AAAA,KAHtB;AAII,IAAA,YAAY,EAAEA,IAJlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJJ,EAWI,oBAAC,SAAD;AACI,IAAA,KAAK,EAAEP,MAAM,CAACwD,KADlB;AAEI,IAAA,WAAW,EAAC,QAFhB;AAGI,IAAA,YAAY,EAAE,sBAAAnD,KAAK;AAAA,aAAIC,QAAQ,CAACD,KAAD,CAAZ;AAAA,KAHvB;AAII,IAAA,YAAY,EAAEA,KAJlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAXJ,EAkBI,oBAAC,SAAD;AACI,IAAA,KAAK,EAAEL,MAAM,CAACwD,KADlB;AAEI,IAAA,WAAW,EAAC,KAFhB;AAGI,IAAA,YAAY,EAAC,SAHjB;AAII,IAAA,YAAY,EAAE,sBAAA/C,GAAG;AAAA,aAAIC,MAAM,CAACD,GAAD,CAAV;AAAA,KAJrB;AAKI,IAAA,YAAY,EAAEA,GALlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAlBJ,EA0BI,oBAAC,SAAD;AACI,IAAA,KAAK,EAAET,MAAM,CAACwD,KADlB;AAEI,IAAA,WAAW,EAAC,IAFhB;AAGI,IAAA,YAAY,EAAC,SAHjB;AAII,IAAA,YAAY,EAAE,sBAAA7C,EAAE;AAAA,aAAIC,KAAK,CAACD,EAAD,CAAT;AAAA,KAJpB;AAKI,IAAA,YAAY,EAAEA,EALlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IA1BJ,EAkCI,oBAAC,SAAD;AACI,IAAA,KAAK,EAAEX,MAAM,CAACwD,KADlB;AAEI,IAAA,WAAW,EAAC,gBAFhB;AAGI,IAAA,YAAY,EAAC,SAHjB;AAII,IAAA,YAAY,EAAE,sBAAAjC,UAAU;AAAA,aAAIC,aAAa,CAACD,UAAD,CAAjB;AAAA,KAJ5B;AAKI,IAAA,YAAY,EAAEA,UALlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAlCJ,EA0CI,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAEvB,MAAM,CAACuD,YAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BA1CJ,EA4CI,oBAAC,SAAD;AACI,IAAA,KAAK,EAAEvD,MAAM,CAACwD,KADlB;AAEI,IAAA,WAAW,EAAC,KAFhB;AAGI,IAAA,YAAY,EAAE,sBAAA3C,MAAM;AAAA,aAAIC,SAAS,CAACD,MAAD,CAAb;AAAA,KAHxB;AAII,IAAA,YAAY,EAAEA,MAJlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IA5CJ,EAmDI,oBAAC,SAAD;AACI,IAAA,KAAK,EAAEb,MAAM,CAACwD,KADlB;AAEI,IAAA,WAAW,EAAC,eAFhB;AAGI,IAAA,YAAY,EAAC,SAHjB;AAII,IAAA,YAAY,EAAE,sBAAAvC,MAAM;AAAA,aAAIC,SAAS,CAACD,MAAD,CAAb;AAAA,KAJxB;AAKI,IAAA,YAAY,EAAEA,MALlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAnDJ,EA2DI,oBAAC,SAAD;AACI,IAAA,KAAK,EAAEjB,MAAM,CAACwD,KADlB;AAEI,IAAA,WAAW,EAAC,QAFhB;AAGI,IAAA,YAAY,EAAE,sBAAAzC,QAAQ;AAAA,aAAIC,WAAW,CAACD,QAAD,CAAf;AAAA,KAH1B;AAII,IAAA,YAAY,EAAEA,QAJlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IA3DJ,EAkEI,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAEf,MAAM,CAACyD,UAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,SAAD;AACI,IAAA,KAAK,EAAEzD,MAAM,CAAC0D,SADlB;AAEI,IAAA,WAAW,EAAC,QAFhB;AAGI,IAAA,YAAY,EAAE,sBAAArC,IAAI;AAAA,aAAIC,OAAO,CAACD,IAAD,CAAX;AAAA,KAHtB;AAII,IAAA,YAAY,EAAEA,IAJlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,EAQI,oBAAC,SAAD;AACI,IAAA,KAAK,EAAErB,MAAM,CAAC2D,OADlB;AAEI,IAAA,WAAW,EAAC,IAFhB;AAGI,IAAA,YAAY,EAAE,sBAAAxC,EAAE;AAAA,aAAIC,KAAK,CAACD,EAAD,CAAT;AAAA,KAHpB;AAII,IAAA,YAAY,EAAEA,EAJlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IARJ,CAlEJ,CAhBJ,EAqGI,oBAAC,gBAAD;AACI,IAAA,KAAK,EAAEnB,MAAM,CAAC4D,MADlB;AAEI,IAAA,OAAO,EAAEzB,oBAFb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAII,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAEnC,MAAM,CAAC6D,UAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAJJ,CArGJ,CAJJ,CAJJ,CADJ;AA2HH","sourcesContent":["import React, {useState} from 'react'\r\nimport { Feather } from '@expo/vector-icons'\r\nimport { useNavigation } from '@react-navigation/native'\r\nimport { Dimensions, View, ScrollView, KeyboardAvoidingView, Image, Text, TextInput, TouchableOpacity, Platform } from 'react-native'\r\nimport AsyncStorage from  '@react-native-community/async-storage';\r\nimport logoImg from '../../assets/logo.png'\r\nimport api from '../../services/api'\r\nimport styles from './styles'\r\n\r\nconst { height } = Dimensions.get('window')\r\n\r\nexport default function Create_Salesman() {\r\n    const [email, setEmail] = useState('');\r\n    const [name, setName] = useState('');\r\n    const [CPF, setCPF] = useState('');\r\n    const [RG, setRG] = useState('');\r\n    const [street, setStreet] = useState('');\r\n    const [district, setDistrict] = useState('');\r\n    const [number, setNumber] = useState('');\r\n    const [uf, setUf] = useState('');\r\n    const [city, setCity] = useState('');\r\n    const [sales_goal, setSales_goal] = useState('');\r\n\r\n    const navigation = useNavigation()\r\n\r\n    function navigateBack() {\r\n        navigation.goBack()\r\n    }\r\n\r\n    state = {\r\n        screenHeight: 0\r\n    }\r\n\r\n    onContentSizeChange = (contentWidth, contentHeigt) => {\r\n        this.setChange({ screenHeight: contentHeigt })\r\n    }\r\n\r\n    const scrollEnabled = this.state.screenHeight > height\r\n\r\n    async function handleCreateSalesman() {\r\n        const data = {name, email, RG, CPF, sales_goal, city, uf, district, street, number}\r\n\r\n\r\n        try {\r\n            const adminID = await AsyncStorage.getItem('userID');\r\n\r\n            const response = await api.post('/salesman', data, {\r\n                headers: {\r\n                    Authorization: adminID,\r\n                }\r\n            })\r\n\r\n            const dataEmail = {password: response.data.password, email}\r\n            await api.post('/send-email', dataEmail)\r\n\r\n            alert(\"Vendedor cadastrado com sucesso.\")\r\n            \r\n            navigation.navigate('Salesman_Listing')\r\n\r\n        } catch (err) {\r\n            alert(\"Falha no cadastro, tente novamente.\")\r\n        }\r\n    }\r\n\r\n    return (\r\n        <KeyboardAvoidingView\r\n            style={{ flex: 1 }}\r\n            behavior={Platform.OS == \"android\" ? \"height\" : null}\r\n        >\r\n            <ScrollView\r\n                showsVerticalScrollIndicator={false}\r\n            >\r\n\r\n                <View style={styles.container}\r\n                    onContentSizeChange={this.onContentSizeChange}\r\n                >\r\n                    <View style={styles.header}>\r\n                        <Image source={logoImg}/>\r\n\r\n                        <TouchableOpacity onPress={navigateBack}>\r\n                            <Feather name=\"arrow-left\" size={28} color=\"#E82041\"/>\r\n                        </TouchableOpacity>\r\n                    </View>\r\n\r\n                    <Text style={styles.title}>Cadastro de Vendedor</Text>\r\n                    <Text style={styles.description}>\r\n                        Faça o cadastro de um usuário vendedor.\r\n                    </Text>\r\n\r\n                    <View style={styles.form}>\r\n\r\n                        <Text style={styles.formProperty}>INFO:</Text>\r\n\r\n                        <TextInput \r\n                            style={styles.input}\r\n                            placeholder=\"Nome\"\r\n                            onChangeText={name => setName(name)}\r\n                            defaultValue={name}\r\n                        />\r\n\r\n                        <TextInput \r\n                            style={styles.input}\r\n                            placeholder=\"E-mail\"\r\n                            onChangeText={email => setEmail(email)}\r\n                            defaultValue={email}\r\n                        />\r\n                                                \r\n                        <TextInput \r\n                            style={styles.input}\r\n                            placeholder=\"CPF\"\r\n                            keyboardType=\"numeric\"\r\n                            onChangeText={CPF => setCPF(CPF)}\r\n                            defaultValue={CPF}\r\n                        />\r\n\r\n                        <TextInput \r\n                            style={styles.input}\r\n                            placeholder=\"RG\"\r\n                            keyboardType=\"numeric\"\r\n                            onChangeText={RG => setRG(RG)}\r\n                            defaultValue={RG}\r\n                        />\r\n\r\n                        <TextInput \r\n                            style={styles.input}\r\n                            placeholder=\"Meta de Vendas\"\r\n                            keyboardType=\"numeric\"\r\n                            onChangeText={sales_goal => setSales_goal(sales_goal)}\r\n                            defaultValue={sales_goal}\r\n                        />\r\n\r\n                        <Text style={styles.formProperty}>LOCALIZAÇÃO:</Text>\r\n\r\n                        <TextInput \r\n                            style={styles.input}\r\n                            placeholder=\"Rua\"\r\n                            onChangeText={street => setStreet(street)}\r\n                            defaultValue={street}\r\n                        />\r\n\r\n                        <TextInput \r\n                            style={styles.input}\r\n                            placeholder=\"N° da casa\"\r\n                            keyboardType=\"numeric\"\r\n                            onChangeText={number => setNumber(number)}\r\n                            defaultValue={number}\r\n                        />\r\n\r\n                        <TextInput \r\n                            style={styles.input}\r\n                            placeholder=\"Bairro\"\r\n                            onChangeText={district => setDistrict(district)}\r\n                            defaultValue={district}\r\n                        />\r\n\r\n                        <View style={styles.inputGroup}>\r\n                            <TextInput \r\n                                style={styles.inputCity}\r\n                                placeholder=\"Cidade\"\r\n                                onChangeText={city => setCity(city)}\r\n                                defaultValue={city}\r\n                            />\r\n\r\n                            <TextInput \r\n                                style={styles.inputUF}\r\n                                placeholder=\"UF\"\r\n                                onChangeText={uf => setUf(uf)}\r\n                                defaultValue={uf}\r\n                            />\r\n                            \r\n                        </View>\r\n\r\n                    </View>\r\n\r\n                    <TouchableOpacity \r\n                        style={styles.action}\r\n                        onPress={handleCreateSalesman}\r\n                    >\r\n                        <Text style={styles.actionText}>Cadastrar</Text>\r\n                    </TouchableOpacity>\r\n\r\n                </View>\r\n\r\n            </ScrollView>\r\n\r\n        </KeyboardAvoidingView>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}